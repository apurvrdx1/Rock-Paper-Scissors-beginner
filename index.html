<html>
<head>
    <script>
        function getComputerChoice(){
            let compOptions = ["rock","paper","scissors"];
            let computerChoice = compOptions[Math.floor(Math.random()*3)];
            //console.log("Computer : " + computerChoice);
            return computerChoice;
        }

        function getPlayerChoice(){
            let playerChoice = prompt("Choose between Rock, Paper or Scissor!");
            if (playerChoice.match(/rock|paper|scissors/i)){
                playerChoice = playerChoice.toLowerCase();
            }else{
                playerChoice = prompt("Invalid choice, please choose between 'Rock', 'Paper' and 'Scissors'! P.S. careful with the spelling !");
            }
            //console.log("You : " + playerChoice);
            return playerChoice;
        }

        
        let compScore = 0;
        let playerScore = 0;

        function playRound(playerSelection,computerSelection){
            if (playerSelection === 'rock' && computerSelection === 'rock'){
                return 'Rock meets rock, they roll away. Its a tie! Lets play again'
            }else if (playerSelection === 'rock' && computerSelection === 'paper'){
                compScore++;
                return 'You chose rock but the computer chose paper. Computer wins this round!'
            }else if (playerSelection === 'rock' && computerSelection === 'scissors'){
                playerScore++;
                return 'You chose rock and the computer chose scissors. You win!'
            }else if (playerSelection === 'paper' && computerSelection === 'paper'){
                return 'You both chose paper. Its a tie, we go again!'
            }else if (playerSelection === 'paper' && computerSelection === 'rock'){
                playerScore++;
                return 'You chose paper and the computer chose rock. You win this round!'
            }else if (playerSelection === 'paper' && computerSelection === 'scissors'){
                compScore++;
                return 'You chose paper but the computer chose scissors. Computer snips through to victory!'
            }else if (playerSelection === 'scissors' && computerSelection === 'scissors'){
                return 'You both chose scissors. Its a tie, play again!'
            }else if (playerSelection === 'scissors' && computerSelection === 'paper'){
                playerScore++;
                return 'You chose scissors and the computer chose paper. You win this round!'
            }else if (playerSelection === 'scissors' && computerSelection === 'rock'){
                compScore++;
                return 'You chose scissors but the computer chose rock. Computer wins!'
            }else{

            }
        }
        let roundNumber = 1;

        function game(){
            for (i=0; i<5; i++){
                const playerSelection = getPlayerChoice();
                const computerSelection = getComputerChoice();
                console.log("Round " + roundNumber);
                console.log("You: " + playerSelection);
                console.log("Computer: " + computerSelection);
                console.log(playRound(playerSelection,computerSelection));
                console.log("Your score: " + playerScore);
                console.log("Computer's score: " + compScore);
                console.log("_______________________")
                roundNumber++;
            }
            result();
        }    

        function tiebreaker(){
            const playerSelection = getPlayerChoice();
            const computerSelection = getComputerChoice();
            console.log("Tiebreaker round ");
            console.log("You: " + playerSelection);
            console.log("Computer: " + computerSelection);
            console.log(playRound(playerSelection,computerSelection));
            console.log("_______________________")
            result();
        }

        function result(){
            if (compScore > playerScore){
                console.log("                           ")
                console.log('%cComputer Wins!', 'font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113)');
                console.log("%cGood game. \nThanks for adding behavioral data to project Skynet.","color: green; font-family:monospace; font-size: 16px");
                console.log("______________________________________________")
                alert("Computer wins! Good game. Thanks for adding behavioral data to project Skynet.");
            }else if(compScore < playerScore){
                console.log("                           ")
                console.log('%cYou win!', 'font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113)');
                console.log("%cCongratulations. \nYour details have been assigned to a T100 model. \nThanks for adding behavioral data to project Skynet.","color: red; font-family:monospace; font-size: 16px");
                console.log("______________________________________________")
                alert("You win. Congratulations. Your details have been assigned to a T100 model. Thanks for adding behavioral data to project Skynet.");
            }else{
                tiebreaker();
            }
        }

        game();

        


    </script>
</head>
</html>